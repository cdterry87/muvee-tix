(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["payment"],{1175:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-two-thirds"},[a("PaymentMethods",{on:{paymentSubmit:t.onSubmit}})],1),a("div",{staticClass:"column is-one-third"},[a("PaymentSummary")],1)])])},i=[],r=a("5530"),l=a("2f62"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[a("h2",{staticClass:"title is-size-4 has-text-centered"},[t._v(" Enter your payment information ")]),a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-8 is-offset-2"},[a("div",{staticClass:"field"},[a("div",{staticClass:"control"},t._l(t.cards,(function(e,s){return a("label",{key:"type"+s,staticClass:"radio has-text-weight-bold"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.type,expression:"type"}],attrs:{type:"radio"},domProps:{value:e.value,checked:t._q(t.type,e.value)},on:{change:[function(a){t.type=e.value},t.onChange]}}),t._v(" "+t._s(e.label)+" ")])})),0)]),a("div",{staticClass:"columns is-multiline"},[t._l(t.fields,(function(e){return t._l(e.columns,(function(e,s){return a("div",{key:"column."+s,staticClass:"column",class:e.class},[a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v(t._s(e.label))]),a("div",{staticClass:"control",class:{"has-icons-left":e.icon}},["checkbox"===e.attributes.type?a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.card[e.attributes.name],expression:"card[column.attributes.name]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.card[e.attributes.name])?t._i(t.card[e.attributes.name],null)>-1:t.card[e.attributes.name]},on:{change:function(a){var s=t.card[e.attributes.name],i=a.target,r=!!i.checked;if(Array.isArray(s)){var l=null,n=t._i(s,l);i.checked?n<0&&t.$set(t.card,e.attributes.name,s.concat([l])):n>-1&&t.$set(t.card,e.attributes.name,s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.card,e.attributes.name,r)}}},"input",e.attributes,!1)):"radio"===e.attributes.type?a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.card[e.attributes.name],expression:"card[column.attributes.name]"}],attrs:{type:"radio"},domProps:{checked:t._q(t.card[e.attributes.name],null)},on:{change:function(a){return t.$set(t.card,e.attributes.name,null)}}},"input",e.attributes,!1)):a("input",t._b({directives:[{name:"model",rawName:"v-model",value:t.card[e.attributes.name],expression:"card[column.attributes.name]"}],attrs:{type:e.attributes.type},domProps:{value:t.card[e.attributes.name]},on:{input:function(a){a.target.composing||t.$set(t.card,e.attributes.name,a.target.value)}}},"input",e.attributes,!1)),e.icon?a("span",{staticClass:"icon is-small is-left"},[a("i",{class:e.icon})]):t._e()]),a("p",{staticClass:"help is-danger"})])])}))}))],2)])]),a("hr"),a("div",{staticClass:"field is-grouped is-grouped-centered mt-4"},[a("div",{staticClass:"control"},[a("router-link",{attrs:{to:"/snacks"}},[a("button",{staticClass:"button is-info"},[t._v("Previous")])])],1),t._m(0)])])])},c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"control"},[a("button",{staticClass:"button is-success",attrs:{type:"submit"}},[t._v(" Confirm Payment ")])])}],u={label:"Visa",value:"visa",fields:{columns:[{label:"Card Number",icon:"fas fa-credit-card",class:"is-full",attributes:{name:"number",type:"text",placeholder:"4000 0000 0000 0000",maxlength:"19",pattern:"^4(?:\\d{12}|\\d{15})$",class:"input",required:!0}},{label:"Expiration Date",class:"is-half",attributes:{name:"expiration",type:"text",placeholder:"MM/YY",maxlength:"5",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",class:"input",required:!0}},{label:"CVV",class:"is-half",attributes:{name:"cvv",type:"text",placeholder:"000",maxlength:"3",pattern:"^[0-9]{3}$",class:"input",required:!0}}]}},o={label:"Master Card",value:"mastercard",fields:{columns:[{label:"Card Number",icon:"fas fa-credit-card",class:"is-full",attributes:{name:"number",type:"text",placeholder:"3000 0000 0000 0000",maxlength:"19",pattern:"^3(?:\\d{12}|\\d{15})$",class:"input",required:!0}},{label:"Expiration Date",class:"is-half",attributes:{name:"expiration",type:"text",placeholder:"MM/YY",maxlength:"5",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",class:"input",required:!0}},{label:"CVV",class:"is-half",attributes:{name:"cvv",type:"text",placeholder:"000",maxlength:"3",pattern:"^[0-9]{3}$",class:"input",required:!0}}]}},d={label:"American Express",value:"americanexpress",fields:{columns:[{label:"Card Number",icon:"fas fa-credit-card",class:"is-full",attributes:{name:"number",type:"text",placeholder:"3700 000000 00000",maxlength:"17",pattern:"^(?:34|37)\\d{13}$",class:"input",required:!0}},{label:"Expiration Date",class:"is-half",attributes:{name:"expiration",type:"text",placeholder:"MM/YY",maxlength:"5",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",class:"input",required:!0}},{label:"CVV",class:"is-half",attributes:{name:"cvv",type:"text",placeholder:"0000",maxlength:"4",pattern:"^[0-9]{4}$",class:"input",required:!0}}]}},m={label:"Discover",value:"discover",fields:{columns:[{label:"Card Number",icon:"fas fa-credit-card",class:"is-full",attributes:{name:"number",type:"text",placeholder:"6000 0000 0000 0000",maxlength:"17",pattern:"^6\\d{5,}$",class:"input",required:!0}},{label:"Expiration Date",class:"is-half",attributes:{name:"expiration",type:"text",placeholder:"MM/YY",maxlength:"5",pattern:"(0[1-9]|1[0-2])\\/[0-9]{2}",class:"input",required:!0}},{label:"CVV",class:"is-half",attributes:{name:"cvv",type:"text",placeholder:"000",maxlength:"3",pattern:"^[0-9]{3}$",class:"input",required:!0}}]}},p={visa:u,mastercard:o,americanexpress:d,discover:m},b=p,v={name:"PaymentMethods",data:function(){return{type:"visa",cards:b,card:{number:"",expiration:"",cvv:""}}},computed:{fields:function(){return b[this.type]}},methods:{onSubmit:function(){var t=Object(r["a"])(Object(r["a"])({},this.card),{},{type:this.type});this.$emit("paymentSubmit",t)},onChange:function(){this.resetData()},resetData:function(){this.card={number:"",expiration:"",cvv:""}}}},h=v,f=a("2877"),_=Object(f["a"])(h,n,c,!1,null,null,null),x=_.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("h3",{staticClass:"title is-size-4 has-text-centered"},[t._v("Summary")]),a("h4",{staticClass:"movie__title has-text-weight-bold has-text-centered"},[t._v(" "+t._s(t.cart.movie.title)+" ")]),a("Card",t._b({attrs:{"has-title":!1}},"Card",t.getMovieDetails(t.cart.movie),!1)),a("table",{staticClass:"mt-4 table is-narrow is-fullwidth is-size-7"},[t.cart.tickets.adults?a("tr",[a("td",[t._v("Adults")]),a("td",[t._v(t._s(t.cart.tickets.adults))]),a("td",{attrs:{"data-testid":"total-price-adults"}},[t._v(" "+t._s(t._f("currency")(t.totalPrices.adults))+" ")])]):t._e(),t.cart.tickets.kids?a("tr",[a("td",[t._v("Kids")]),a("td",[t._v(t._s(t.cart.tickets.kids))]),a("td",{attrs:{"data-testid":"total-price-kids"}},[t._v(" "+t._s(t._f("currency")(t.totalPrices.kids))+" ")])]):t._e(),t.cart.tickets.seniors?a("tr",[a("td",[t._v("Seniors")]),a("td",[t._v(t._s(t.cart.tickets.seniors))]),a("td",{attrs:{"data-testid":"total-price-seniors"}},[t._v(" "+t._s(t._f("currency")(t.totalPrices.seniors))+" ")])]):t._e(),t.totalSnacks?a("tr",[a("td",[t._v("Snacks")]),a("td",[t._v(t._s(t.totalSnacks))]),a("td",{attrs:{"data-testid":"total-price-snacks"}},[t._v(" "+t._s(t._f("currency")(t.totalPrices.snacks))+" ")])]):t._e(),t.calculatedTaxAmounts.calculatedTax?a("tr",[a("td",{attrs:{colspan:"2"}},[t._v("Taxes:")]),a("td",{attrs:{"data-testid":"taxes"}},[t._v(" "+t._s(t._f("currency")(t.calculatedTaxAmounts.calculatedTax))+" ")])]):t._e(),a("tr",{staticClass:"has-text-weight-bold"},[a("td",{attrs:{colspan:"2"}},[t._v("Total:")]),a("td",{attrs:{"data-testid":"total"}},[t._v(" "+t._s(t._f("currency")(t.calculatedTaxAmounts.totalWithTax))+" ")])])])],1)},C=[],g=a("ad01"),k=a("865b"),P=Object(l["a"])("cart"),$=P.mapState,w=P.mapGetters,S=P.mapActions,j={name:"PaymentSummary",components:{Card:g["a"]},computed:Object(r["a"])(Object(r["a"])({},$(["cart"])),w(["totalPrices","totalSnacks","calculatedTaxAmounts"])),created:function(){this.getTaxes()},methods:Object(r["a"])(Object(r["a"])({},S(["getTaxes"])),{},{getMovieDetails:function(t){return Object(k["a"])(t)}})},q=j,M=Object(f["a"])(q,y,C,!1,null,null,null),O=M.exports,A=Object(l["a"])("cart"),T=A.mapActions,D={name:"Payment",components:{PaymentMethods:x,PaymentSummary:O},methods:Object(r["a"])(Object(r["a"])({},T(["setCartPayment"])),{},{onSubmit:function(t){var e=t.type,a=t.number,s=t.expiration,i=t.cvv;this.setCartPayment({type:e,number:a,expiration:s,cvv:i}),this.$router.push("summary")}})},E=D,V=Object(f["a"])(E,s,i,!1,null,null,null);e["default"]=V.exports}}]);
//# sourceMappingURL=payment.a895aeaa.js.map